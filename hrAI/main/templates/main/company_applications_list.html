{% extends 'layouts/navbar.html' %}
{% load bootstrap5 %}

{% block title %}All Applications{% endblock %}

{% block content %}
  <div class="container mt-4">
    <h2>All Applications</h2>
    <table class="table table-dark table-striped">
      <thead>
        <tr>
          <th scope="col">Candidate</th>
          <th scope="col">Job Title</th>
          <th scope="col">Status</th>
          <th scope="col">
            <a href="?sort=rating">Rating</a>
          </th>
          <th scope="col">Feedback</th>
          <th scope="col">
            <a href="?sort=created_at">Date</a>
          </th>
        </tr>
      </thead>
      <tbody>
        {% for application in applications_list %}
          <tr>
            <td>{{ application.candidate.user.user.username }}</td>
            <td>{{ application.job_posting.title }}</td>
            <td>{{ application.status }}</td>
            <td>{{ application.rating }}</td>
            <td>{{ application.feedback }}</td>
            <td>{{ application.created_at }}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="6">No applications available.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
